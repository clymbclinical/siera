<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Making use of `cards` and `cardx` • siera</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Making use of `cards` and `cardx`">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">siera</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.5.4</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/apply-ARD.html">What do I do with my ARD?</a></li>
    <li><a class="dropdown-item" href="../articles/ARD_script_structure.html">ARD program structure</a></li>
    <li><a class="dropdown-item" href="../articles/Getting_started.html">Getting Started</a></li>
    <li><a class="dropdown-item" href="../articles/using-cards.html">Making use of `cards` and `cardx`</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/clymbclinical/siera/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Making use of `cards` and `cardx`</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/clymbclinical/siera/blob/main/vignettes/using-cards.Rmd" class="external-link"><code>vignettes/using-cards.Rmd</code></a></small>
      <div class="d-none name"><code>using-cards.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://clymbclinical.github.io/siera/">siera</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="introduction-to-cardscardx">Introduction to cards/cardx<a class="anchor" aria-label="anchor" href="#introduction-to-cardscardx"></a>
</h2>
<p><code>cards</code> and <code>cardx</code> are reputable R packages,
part of the <code>pharmaverse</code>, which wrap statistical procedures
and deliver Analysis Results Datasets (ARDs).</p>
<p>Read more about <code>cards</code> <a href="https://insightsengineering.github.io/cards/latest-tag/" class="external-link">here</a>,
and <code>cardx</code> <a href="https://insightsengineering.github.io/cards/latest-tag/" class="external-link">here</a>.</p>
</div>
<div class="section level2">
<h2 id="using-cards-and-cardx-in-ars-metadata">Using <code>cards</code> and <code>cardx</code> in ARS metadata<a class="anchor" aria-label="anchor" href="#using-cards-and-cardx-in-ars-metadata"></a>
</h2>
<p>A powerful aspect of the ARS model, is that dynamic code can be
supplied as part of the metadata and be evaluated on either 1. the
Output level, 2. the Analysis level, or 3. the AnalysisMethod level. In
an insightful insightful PHUSE paper by Richard Marshall <a href="https://www.lexjansen.com/phuse-us/2025/ds/PAP_DS09.pdf" class="external-link">here</a>,
he explains how dynamic code can ‘drive’ automation in the ARS model by
categorising it into 5 “geARS”.</p>
<p>“Gear 5” entails making use of the
<em>AnalysisMethodCodeTemplate</em> and
<em>AnalysisMethodCodeParameters</em> classes in the metadata. The user
supplies dynamic R code (with the option of making use of parameters
referring to metadata pieces), which will be executed to perform the
relevant AnalysisMethod operations.</p>
<div class="section level3">
<h3 id="example-ard_continuous">Example: <code>ard_continuous</code><a class="anchor" aria-label="anchor" href="#example-ard_continuous"></a>
</h3>
<p>For the <code>siera</code> package, the R code used in
<em>AnalysisMethodCodeTemplate</em> is aligned with the <em>cards</em>
and <code>cardx</code> package. Below is a simple example of how a
function <em>ard_continuous</em> from the <em>cards</em> package is used
in the <em>AnalysisMethodCodeTemplate</em> class:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># example of 'cards' code in AnalysisMethodCodeTemplate, using the ard_continuous function:</span></span>
<span></span>
<span><span class="va">Analysis_ARD</span> <span class="op">&lt;-</span> <span class="fu">ard_continuous</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">filtered_ADSL</span>,</span>
<span>  by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">byvariables_here</span><span class="op">)</span>,</span>
<span>  variables <span class="op">=</span> <span class="va">analysisvariable_here</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>In the above example of <em>AnalysisMethodCodeTemplate</em> code for
a particular AnalysisMethod (summary statistics for a continuous
variable), the <em>ard_continuous</em> function from the <em>cards</em>
package is used. Notice, however, that two parameters are used in the
code:</p>
<ol style="list-style-type: decimal">
<li>‘byvariables_here’, and</li>
<li>‘analysisvariable_here’.</li>
</ol>
<p>These are example placeholder names, to be replaced by actual
variables, depending on the context for the Analysis. For example,
‘byvariables_here’ could be replaced by TRT01A, and
‘analysisvariable_here’ could be replaced by AGE, for an ARD with
summary statistics on AGE by Treatment. The same code, however, will be
reused for summary statistics on e.g. HEIGHT for another Analysis, and
the ‘analysisvariable_here’ will be replaced with HEIGHT. All this is
dynamically applied within the <code><a href="../reference/readARS.html">readARS()</a></code> function when
generating R scripts using <em>siera</em>. Let’s see, for example, how
the above statement would be auto-populated with actual objects (from
the ARS metadata):</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># example of 'cards' code in AnalysisMethodCodeTemplate, populated with AnalysisMethodCodeParameters:</span></span>
<span></span>
<span><span class="va">Analysis_ARD</span> <span class="op">&lt;-</span> <span class="fu">ard_continuous</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">filtered_ADSL</span>,</span>
<span>  by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">TRT01A</span><span class="op">)</span>,</span>
<span>  variables <span class="op">=</span> <span class="va">AGE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>In order to facilitate the use of placeholders and their replacement
with actual values from the metadata, several “constructs” have been
defined in the <em>readARS</em> function, and are available to the user
to call from the <em>AnalysisMethodCodeTemplate</em> and
<em>AnalysisMethodCodeParameters</em> classes in the metadata. These
constructs are either simple variables or datasets defined in the
metadata, or complex, dynamic constructs from various metadata pieces,
to be inserted in specific <em>cards</em> functions, or pre-processing
steps. A list of defined constructs and examples is shipped with this
package, and can be accessed with:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ARS_example.html">ARS_example</a></span><span class="op">(</span><span class="st">"cards_constructs.xlsx"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Malan Bosman, Clymb Clinical.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
