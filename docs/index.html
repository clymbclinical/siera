<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Generate Analysis Results Programmes Using ARS Metadata • siera</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Generate Analysis Results Programmes Using ARS Metadata">
<meta name="description" content="CDISC foundational standard, Analysis Results Standard (ARS), provides metadata describing all components to calculate Analysis Results. Using siera package, ARS metadata is ingested (JSON or Excel format), and programmes to generate Analysis Results Datasets (ARDs) are produced.">
<meta property="og:description" content="CDISC foundational standard, Analysis Results Standard (ARS), provides metadata describing all components to calculate Analysis Results. Using siera package, ARS metadata is ingested (JSON or Excel format), and programmes to generate Analysis Results Datasets (ARDs) are produced.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">siera</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="siera">siera<a class="anchor" aria-label="anchor" href="#siera"></a>
</h1></div>
<!-- badges: start -->
<!-- [![CRAN -->
<!-- status](https://www.r-pkg.org/badges/version/siera)](https://CRAN.R-project.org/package=siera) -->

<p>Are you looking for a way to automate TFLs?</p>
<p>With siera, users ingest Analysis Results Standard - ARS (a CDISC Foundational standard) metadata and auto-generate R scripts that, when run in with provided ADaM datasets, provide Analysis Results Datasets (ARDs).</p>
<p>In order to use the readARS() function, users will need to provide the following:</p>
<ol style="list-style-type: decimal">
<li>A Functional JSON file, representing ARS Metadata for a Reporting Event (to get started, see TFL Designer)</li>
<li>An output directory where the R scripts will be placed</li>
<li>A folder containing the related ADaM datasets for the ARDs to be generated</li>
</ol>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>The current version (0.1.0) of siera can be installed from <a href="https://github.com/clymbclinical/siera" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.unsetenv</a></span><span class="op">(</span><span class="st">"GITHUB_PAT"</span><span class="op">)</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"https://github.com/clymbclinical/siera"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>Using an example JSON ARS file, run readARS() function to produce the ARD programs.</p>
<p>In this example, the following is used: 1. JSON ARS file: CDISC Pilot Study Common Safety Displays JSON ARS. 2. ADaM datasets: CDISC Pilot Study Common Safety Displays - ADSL, ADAE, ADVS</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">siera</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># the ARS JSON File:</span></span>
<span><span class="va">json_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"ARS_V1_Common_Safety_Displays.json"</span>, package <span class="op">=</span> <span class="st">"siera"</span><span class="op">)</span> </span>
<span></span>
<span><span class="co"># store ARD scripts in this folder:</span></span>
<span><span class="va">output_folder</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span>,<span class="st">"/inst"</span><span class="op">)</span><span class="op">)</span> </span>
<span></span>
<span><span class="co"># this folder contains ADaM datasets to produce ARD:</span></span>
<span><span class="va">ADaM_folder</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span>,<span class="st">"/inst/extdata"</span><span class="op">)</span><span class="op">)</span> </span>
<span></span>
<span><span class="co"># run the readARS function with these 3 parameters.  This creates R scripts (1 for each output in output_folder)</span></span>
<span><span class="fu"><a href="reference/readARS.html">readARS</a></span><span class="op">(</span><span class="va">json_path</span>, <span class="va">output_folder</span>, adam_path <span class="op">=</span> <span class="va">ADaM_folder</span><span class="op">)</span></span></code></pre></div>
<p>Once the R programs are created, they can be individually run, provided that the ADaM datasets are in the location as provided to the readARS function. In this example, one of the 5 outputs are Out14-1-1. Its corresponding R script is ARD_Out14-1-1.R.</p>
<p>We also assume that there are CSV ADaMs in a folder called “adam_csv” in the current working directory.</p>
<p>In this example, an ARD programs can be called as follows:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># location to one of the created R scripts:</span></span>
<span><span class="va">ARD_program</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">output_folder</span>,<span class="st">"/ARD_Out14-1-1.R"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># run the program as-is.  This ingests the ADaM dataset(s) in the ADAM_folder location listed earlier.</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/source.html" class="external-link">source</a></span><span class="op">(</span><span class="va">ARD_program</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning in chisq.test(tab): Chi-squared approximation may be incorrect</span></span>
<span><span class="co">#&gt; Warning in chisq.test(tab): Chi-squared approximation may be incorrect</span></span></code></pre></div>
<p>Once the ARD program(s) is run, the ARD is created. Among all the helper objects created, the ARD can be identified as the “ARD_outputname” object. Let’s view this object created by the previous command:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">ARD_Out14_1_1</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 113 × 9</span></span>
<span><span class="co">#&gt;    Group1     res AnalsysisId MethodId OperationId OutputId pattern Group2 disp </span></span>
<span><span class="co">#&gt;    &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt;    &lt;chr&gt;       &lt;chr&gt;    &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;</span></span>
<span><span class="co">#&gt;  1 Placebo  86    An01_05_SA… Mth01_C… Mth01_CatV… Out14-1… (N=XX)  &lt;NA&gt;   (N=8…</span></span>
<span><span class="co">#&gt;  2 Xanomel… 84    An01_05_SA… Mth01_C… Mth01_CatV… Out14-1… (N=XX)  &lt;NA&gt;   (N=8…</span></span>
<span><span class="co">#&gt;  3 Xanomel… 84    An01_05_SA… Mth01_C… Mth01_CatV… Out14-1… (N=XX)  &lt;NA&gt;   (N=8…</span></span>
<span><span class="co">#&gt;  4 Placebo  86    An03_01_Ag… Mth02_C… Mth02_Cont… Out14-1… XX      &lt;NA&gt;   86   </span></span>
<span><span class="co">#&gt;  5 Xanomel… 84    An03_01_Ag… Mth02_C… Mth02_Cont… Out14-1… XX      &lt;NA&gt;   84   </span></span>
<span><span class="co">#&gt;  6 Xanomel… 84    An03_01_Ag… Mth02_C… Mth02_Cont… Out14-1… XX      &lt;NA&gt;   84   </span></span>
<span><span class="co">#&gt;  7 Placebo  75.2  An03_01_Ag… Mth02_C… Mth02_Cont… Out14-1… XX.X    &lt;NA&gt;   75.2 </span></span>
<span><span class="co">#&gt;  8 Xanomel… 74.4  An03_01_Ag… Mth02_C… Mth02_Cont… Out14-1… XX.X    &lt;NA&gt;   74.4 </span></span>
<span><span class="co">#&gt;  9 Xanomel… 75.7  An03_01_Ag… Mth02_C… Mth02_Cont… Out14-1… XX.X    &lt;NA&gt;   75.7 </span></span>
<span><span class="co">#&gt; 10 Placebo   8.59 An03_01_Ag… Mth02_C… Mth02_Cont… Out14-1… (XX.XX) &lt;NA&gt;   (8.5…</span></span>
<span><span class="co">#&gt; # ℹ 103 more rows</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing siera</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Malan Bosman <br><small class="roles"> Author, maintainer </small>  </li>
<li>Clymb Clinical <br><small class="roles"> Copyright holder, funder </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/clymbclinical/siera/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/clymbclinical/siera/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Malan Bosman, Clymb Clinical.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
